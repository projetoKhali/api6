{
  "name": "db",
  "targets": {
    "add": {
      "executor": "nx:run-commands",
      "options": {
        "command": "poetry add {args.dep}"
      }
    },
    "up": {
      "executor": "nx:run-commands",
      "options": {
        "command": "nx run-many -p $NX_TASK_TARGET_PROJECT -t pg-up mongo-up"
      }
    },
    "down": {
      "executor": "nx:run-commands",
      "options": {
        "command": "nx run-many -p $NX_TASK_TARGET_PROJECT -t pg-down mongo-down"
      }
    },
    "postgres-up": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker-compose -f {projectRoot}/docker-compose.yml up -d postgres"
      }
    },
    "mongo-up": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker-compose -f {projectRoot}/docker-compose.yml up -d mongo"
      }
    },
    "postgres-down": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker-compose -f {projectRoot}/docker-compose.yml down"
      }
    },
    "mongo-down": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker-compose -f {projectRoot}/docker-compose.yml down"
      }
    },
    "pg-up": {
      "executor": "nx:run-commands",
      "options": {
        "command": "nx run $NX_TASK_TARGET_PROJECT:postgres-up"
      }
    },
    "pg-down": {
      "executor": "nx:run-commands",
      "options": {
        "command": "nx run $NX_TASK_TARGET_PROJECT:postgres-down"
      }
    }
  }
}
